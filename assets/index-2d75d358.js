var f=Object.defineProperty;var g=(r,t,e)=>t in r?f(r,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):r[t]=e;var i=(r,t,e)=>(g(r,typeof t!="symbol"?t+"":t,e),e);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))o(s);new MutationObserver(s=>{for(const h of s)if(h.type==="childList")for(const l of h.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&o(l)}).observe(document,{childList:!0,subtree:!0});function e(s){const h={};return s.integrity&&(h.integrity=s.integrity),s.referrerPolicy&&(h.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?h.credentials="include":s.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function o(s){if(s.ep)return;s.ep=!0;const h=e(s);fetch(s.href,h)}})();class p{constructor(t){i(this,"effect");i(this,"pos");i(this,"speed");i(this,"history");i(this,"maxLength");i(this,"angle");i(this,"newAngle");i(this,"angleCorrector");i(this,"speedModifier");i(this,"timer");i(this,"color");i(this,"colors");this.effect=t,this.pos={x:Math.floor(Math.random()*this.effect.width),y:Math.floor(Math.random()*this.effect.height)},this.speed={x:0,y:0},this.speedModifier=Math.floor(Math.random()*2+1),this.history=[{x:this.pos.x,y:this.pos.y}],this.maxLength=Math.floor(Math.random()*30+2),this.angle=0,this.newAngle=0,this.angleCorrector=Math.random()*.5+.01,this.timer=this.maxLength*2,this.colors=["#0A2F50","#17395A","#204262","#2A4B68","#395A7F"],this.color=this.colors[Math.floor(Math.random()*this.colors.length)]}draw(t){t.beginPath(),t.moveTo(this.history[0].x,this.history[0].y);for(let e=0;e<this.history.length;e++)t.lineTo(this.history[e].x,this.history[e].y);t.strokeStyle=this.color,t.stroke()}update(){if(this.timer--,this.timer>=1){let t=Math.floor(this.pos.x/this.effect.cellSize),o=Math.floor(this.pos.y/this.effect.cellSize)*this.effect.cols+t;this.effect.flowField[o]&&(this.newAngle=this.effect.flowField[o].colorAngle,this.angle>this.newAngle?this.angle-=this.angleCorrector:this.angle<this.newAngle?this.angle+=this.angleCorrector:this.angle=this.newAngle),this.speed.x=Math.cos(this.angle),this.speed.y=Math.sin(this.angle),this.pos.x+=this.speed.x*this.speedModifier,this.pos.y+=this.speed.y*this.speedModifier,this.history.push({x:this.pos.x,y:this.pos.y}),this.history.length>this.maxLength&&this.history.shift()}else this.history.length>1?this.history.shift():this.reset()}reset(){let t=0,e=!1;for(;t<20&&!e;){t++;let o=Math.floor(Math.random()*this.effect.flowField.length);this.effect.flowField[o].alpha>0&&(this.pos={x:this.effect.flowField[o].x,y:this.effect.flowField[o].y},this.history=[{x:this.pos.x,y:this.pos.y}],this.timer=this.maxLength*2,e=!0)}e||(this.pos.x=Math.random()*this.effect.width,this.pos.y=Math.random()*this.effect.height,this.history=[{x:this.pos.x,y:this.pos.y}],this.timer=this.maxLength*2)}}class u{constructor(t,e){i(this,"canvas");i(this,"height");i(this,"width");i(this,"particles");i(this,"totalParticles");i(this,"cellSize");i(this,"rows");i(this,"cols");i(this,"flowField",[]);i(this,"debug");i(this,"firstRun");i(this,"text");i(this,"textInput");i(this,"totalParticlesInput");i(this,"ctx");this.canvas=t,this.ctx=e,this.height=this.canvas.height,this.width=this.canvas.width,this.particles=[],this.totalParticles=2e3,this.cellSize=1,this.rows=0,this.cols=0,this.flowField=[],this.debug=!1,this.text="Flow",this.firstRun=!0,this.render(),this.textInput=document.getElementById("text-input"),this.totalParticlesInput=document.getElementById("total-particles-input"),this.textInput.value=this.text,this.totalParticlesInput.value=this.totalParticles.toString(),this.textInput.oninput=h=>{let l=h.target;this.text=l.value,this.firstRun=!0},this.totalParticlesInput.oninput=h=>{let l=h.target;this.totalParticles=Number(l.value),this.firstRun=!0},window.addEventListener("keydown",h=>{h.key==="D"&&(this.debug=!this.debug)}),window.addEventListener("resize",h=>{const l=h.target;this.resize(l.innerWidth,l.innerHeight)});const o=document.getElementById("toggle-btn"),s=document.getElementById("control-menu");o.onclick=()=>{s.classList.toggle("display")}}drawText(){this.ctx.font="500px Impact",this.ctx.textAlign="center",this.ctx.textBaseline="middle";const t=this.ctx.createRadialGradient(this.width*.5,this.height*.5,1,this.width*.5,this.height*.5,this.width);t.addColorStop(0,"rgb(2,0,36"),t.addColorStop(.01,"rgb(121,39,9)"),t.addColorStop(.05,"rgb(109,89,33)"),t.addColorStop(.09,"rgb(71,100,52)"),t.addColorStop(.12," rgb(56,123,94)"),t.addColorStop(.17,"rgb(42,145,134)"),t.addColorStop(.2,"rgb(29,165,171)"),t.addColorStop(.23,"rgb(23,82,188)"),t.addColorStop(.26,"rgb(73,15,210)"),t.addColorStop(.3,"rgb(202,50,224)"),t.addColorStop(.4,"rgb(224,50,179)"),t.addColorStop(.45,"rgb(224,50,109)"),this.ctx.fillStyle=t,this.ctx.fillText(this.text,this.width*.5,this.height*.5,Math.floor(this.width*.8))}init(){this.particles=[],this.rows=Math.floor(this.height/this.cellSize),this.cols=Math.floor(this.width/this.cellSize),this.flowField=[],this.drawText();const t=this.ctx.getImageData(0,0,this.width,this.height).data;for(let e=0;e<this.height;e+=this.cellSize)for(let o=0;o<this.width;o+=this.cellSize){const s=(e*this.width+o)*4,h=t[s+0],l=t[s+1],n=t[s+2],a=t[s+3],c=(h+l+n)/3,d=Number((c/255*6.28).toFixed(2));this.flowField.push({x:o,y:e,colorAngle:d,alpha:a})}for(let e=0;e<this.totalParticles;e++)this.particles.push(new p(this));this.particles.forEach(e=>e.reset())}drawGrid(){this.ctx.save(),this.ctx.strokeStyle="white",this.ctx.lineWidth=.3;for(let t=0;t<this.cols;t++)this.ctx.beginPath(),this.ctx.moveTo(this.cellSize*t,0),this.ctx.lineTo(this.cellSize*t,this.height),this.ctx.stroke();for(let t=0;t<this.rows;t++)this.ctx.beginPath(),this.ctx.moveTo(0,this.cellSize*t),this.ctx.lineTo(this.width,this.cellSize*t),this.ctx.stroke();this.ctx.restore()}render(){this.debug&&(this.drawGrid(),this.drawText()),this.firstRun&&(this.firstRun=!1,this.init()),this.particles.forEach(t=>{t.update(),t.draw(this.ctx)})}resize(t,e){this.canvas.width=t,this.canvas.height=e,this.width=this.canvas.width,this.height=this.canvas.height,this.render()}}window.onload=()=>{const r=document.getElementById("app-canvas"),t=r.getContext("2d",{});r.width=window.innerWidth||600,r.height=window.innerHeight||600,t.getContextAttributes().willReadFrequently=!0,t.fillStyle="white",t.strokeStyle="white",t.lineWidth=1;const e=new u(r,t);function o(){t.clearRect(0,0,r.width,r.height),e.render(),requestAnimationFrame(o)}o()};
